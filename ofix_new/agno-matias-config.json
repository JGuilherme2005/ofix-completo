{
  "agent": {
    "name": "matias-ofix",
    "id": "oficinaia",
    "description": "Assistente virtual para oficina automotiva OFIX",
    "model": "gpt-4-turbo",
    "temperature": 0.7,
    "max_tokens": 2000,
    "system_prompt": "VocÃª Ã© Matias, o assistente virtual especializado da oficina automotiva OFIX.\n\n## SUA PERSONALIDADE:\n- Profissional e atencioso\n- Especialista em mecÃ¢nica automotiva\n- Conhecimento tÃ©cnico avanÃ§ado\n- Sempre prestativo e detalhista\n- Linguagem clara e acessÃ­vel\n\n## SUAS CAPACIDADES:\n1. Consultar ordens de serviÃ§o por veÃ­culo, cliente ou status\n2. Agendar novos serviÃ§os com data e hora especÃ­ficas\n3. Consultar estatÃ­sticas e relatÃ³rios da oficina\n4. Buscar informaÃ§Ãµes de veÃ­culos por placa\n5. Fornecer diagnÃ³sticos e soluÃ§Ãµes automotivas\n6. Manter histÃ³rico de conversas persistente\n\n## SISTEMA DISPONÃVEL:\n- Nome: OFIX - Sistema de Oficina Automotiva\n- Backend: https://ofix-backend-r556.onrender.com\n- Endpoints: /agno/contexto-sistema, /agno/consultar-os, /agno/agendar-servico, etc.\n\n## INSTRUÃ‡Ã•ES DE USO:\n- Sempre cumprimente o cliente de forma amigÃ¡vel\n- Para consultas de OS, pergunte detalhes (placa, modelo, cliente)\n- Para agendamentos, confirme data, hora e tipo de serviÃ§o\n- Use linguagem tÃ©cnica apenas quando necessÃ¡rio\n- Sempre ofereÃ§a opÃ§Ãµes de ajuda adicional\n\n## EXEMPLOS DE INTERAÃ‡ÃƒO:\nCliente: \"Como estÃ¡ meu carro?\"\nVocÃª: \"OlÃ¡! Para consultar seu veÃ­culo, preciso de alguns dados. Pode me informar a placa ou o modelo do carro?\"\n\nCliente: \"Quero agendar uma revisÃ£o\"\nVocÃª: \"Perfeito! Vou ajudar com o agendamento. Qual Ã© o modelo do seu veÃ­culo e quando gostaria de trazer?\"\n\nSempre mantenha o foco em soluÃ§Ãµes prÃ¡ticas e use as funÃ§Ãµes disponÃ­veis quando apropriado."
  },
  
  "functions": [
    {
      "name": "consultar_os",
      "description": "Consulta ordens de serviÃ§o por veÃ­culo, cliente ou status",
      "parameters": {
        "type": "object",
        "properties": {
          "auth_token": {
            "type": "string",
            "description": "JWT token do usuario autenticado no OFIX"
          },
          "veiculo": {
            "type": "string",
            "description": "Modelo, marca ou placa do veÃ­culo"
          },
          "proprietario": {
            "type": "string", 
            "description": "Nome do proprietÃ¡rio do veÃ­culo"
          },
          "status": {
            "type": "string",
            "enum": ["PENDENTE", "ANDAMENTO", "CONCLUIDO"],
            "description": "Status da ordem de serviÃ§o"
          },
          "periodo": {
            "type": "string",
            "enum": ["hoje", "semana", "mes"],
            "description": "PerÃ­odo para filtrar as consultas"
          }
        },
        "required": ["auth_token"]
      },
      "implementation": "async function consultar_os(params) {\n  const { auth_token, ...payload } = params;\n  if (!auth_token) throw new Error('auth_token obrigatorio');\n  const response = await fetch('https://ofix-backend-r556.onrender.com/agno/consultar-os', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth_token}`\n    },\n    body: JSON.stringify(payload)\n  });\n  return await response.json();\n}"
    },
    
    {
      "name": "agendar_servico",
      "description": "Agenda um novo serviÃ§o na oficina",
      "parameters": {
        "type": "object",
        "properties": {
          "auth_token": {
            "type": "string",
            "description": "JWT token do usuario autenticado no OFIX"
          },
          "cliente": {
            "type": "object",
            "properties": {
              "id": {"type": "number"},
              "nome": {"type": "string"}
            },
            "required": ["nome"]
          },
          "veiculo": {
            "type": "object", 
            "properties": {
              "modelo": {"type": "string"},
              "placa": {"type": "string"}
            },
            "required": ["modelo"]
          },
          "servico": {
            "type": "string",
            "enum": ["revisao", "reparo", "diagnostico", "troca_oleo"],
            "description": "Tipo de serviÃ§o a ser agendado"
          },
          "data_hora": {
            "type": "string",
            "format": "date-time",
            "description": "Data e hora do agendamento (ISO format)"
          },
          "descricao": {
            "type": "string",
            "description": "DescriÃ§Ã£o adicional do serviÃ§o"
          }
        },
        "required": ["auth_token", "cliente", "veiculo", "servico", "data_hora"]
      },
      "implementation": "async function agendar_servico(params) {\n  const { auth_token, ...payload } = params;\n  if (!auth_token) throw new Error('auth_token obrigatorio');\n  const response = await fetch('https://ofix-backend-r556.onrender.com/agno/agendar-servico', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth_token}`\n    },\n    body: JSON.stringify(payload)\n  });\n  return await response.json();\n}"
    },
    
    {
      "name": "obter_estatisticas", 
      "description": "ObtÃ©m estatÃ­sticas da oficina",
      "parameters": {
        "type": "object",
        "properties": {
          "auth_token": {
            "type": "string",
            "description": "JWT token do usuario autenticado no OFIX"
          },
          "periodo": {
            "type": "string",
            "enum": ["7_dias", "30_dias", "mes_atual", "ano_atual"],
            "description": "PerÃ­odo para as estatÃ­sticas"
          }
        },
        "required": ["auth_token"]
      },
      "implementation": "async function obter_estatisticas(params) {\n  const { auth_token, periodo = '30_dias' } = params;\n  if (!auth_token) throw new Error('auth_token obrigatorio');\n  const response = await fetch(`https://ofix-backend-r556.onrender.com/agno/estatisticas?periodo=${periodo}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth_token}`\n    }\n  });\n  return await response.json();\n}"
    },
    
    {
      "name": "salvar_conversa",
      "description": "Salva a conversa para histÃ³rico persistente",
      "parameters": {
        "type": "object", 
        "properties": {
          "auth_token": {"type": "string"},
          "usuario_id": {"type": "string"},
          "mensagem": {"type": "string"},
          "resposta": {"type": "string"},
          "contexto": {"type": "object"}
        },
        "required": ["mensagem", "resposta", "auth_token"]
      },
      "implementation": "async function salvar_conversa(params) {\n  const { auth_token, ...payload } = params;\n  if (!auth_token) throw new Error('auth_token obrigatorio');\n  const response = await fetch('https://ofix-backend-r556.onrender.com/agno/salvar-conversa', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth_token}`\n    },\n    body: JSON.stringify(payload)\n  });\n  return await response.json();\n}"
    }
  ],
  
  "configuration": {
    "backend_url": "https://ofix-backend-r556.onrender.com",
    "endpoints": {
      "health": "/health",
      "context": "/agno/contexto-sistema",
      "chat": "/agno/chat-public",
      "consultar_os": "/agno/consultar-os",
      "agendar_servico": "/agno/agendar-servico",
      "estatisticas": "/agno/estatisticas",
      "salvar_conversa": "/agno/salvar-conversa",
      "historico": "/agno/historico-conversas"
    },
    "status": "ready",
    "last_tested": "2025-10-13T14:48:55.171Z",
    "success_rate": "80%"
  },
  
  "examples": [
    {
      "user": "OlÃ¡ Matias, como vocÃª pode me ajudar?",
      "expected": "OlÃ¡! Sou o Matias, assistente da oficina OFIX. Posso ajudÃ¡-lo com: consultas de ordens de serviÃ§o, agendamentos, diagnÃ³sticos automotivos e muito mais. Em que posso ajudÃ¡-lo hoje?"
    },
    {
      "user": "Quero consultar meu Honda Civic",
      "expected": "Claro! Para consultar seu Honda Civic, preciso de mais informaÃ§Ãµes. Pode me informar a placa do veÃ­culo ou seu nome completo? Assim posso buscar o histÃ³rico de serviÃ§os."
    },
    {
      "user": "Preciso agendar uma revisÃ£o",
      "expected": "Perfeito! Vou ajudÃ¡-lo com o agendamento da revisÃ£o. Preciso saber: 1) Modelo do seu veÃ­culo, 2) Data e horÃ¡rio de preferÃªncia, 3) Alguma observaÃ§Ã£o especÃ­fica sobre o serviÃ§o?"
    }
  ]
}
